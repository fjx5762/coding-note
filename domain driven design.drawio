<mxfile host="app.diagrams.net" modified="2022-07-03T06:00:35.252Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/102.0.0.0 Safari/537.36" etag="o55z09alIYx01Z8z_mTt" version="20.0.4" type="github">
  <diagram id="o0IBLR_WmbubAZ78KdnO" name="Domain Primitive">
    <mxGraphModel dx="946" dy="614" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <UserObject label="参考文章" link="https://segmentfault.com/a/1190000020270851" id="xhAw2geh87z7_WKdA8rC-1">
          <mxCell style="fontColor=#0000EE;fontStyle=4;rounded=1;overflow=hidden;spacing=10;sketch=1;" vertex="1" parent="1">
            <mxGeometry x="130" y="90" width="150" height="40" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="xhAw2geh87z7_WKdA8rC-2" value="定义:&lt;br style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(33, 37, 41); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;不从任何其他事物发展而来&amp;nbsp;&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box; color: rgb(33, 37, 41); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;color: rgb(33, 37, 41); font-size: 14px; background-color: rgb(255, 255, 255);&quot;&gt;初级的形成或生长的早期阶段&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;fontFamily=Helvetica;fontSize=14;align=left;" vertex="1" parent="1">
          <mxGeometry x="130" y="160" width="290" height="100" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-4" value="三个原则" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;fontFamily=Helvetica;fontSize=14;align=left;" vertex="1" parent="1">
          <mxGeometry x="130" y="680" width="100" height="50" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-6" value="四个维度" style="rounded=1;whiteSpace=wrap;html=1;sketch=1;fontFamily=Helvetica;fontSize=14;align=left;" vertex="1" parent="1">
          <mxGeometry x="130" y="390" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-9" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;span style=&quot;color: rgb(33, 37, 41); font-family: system-ui, -apple-system, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, &amp;quot;Noto Sans&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Noto Color Emoji&amp;quot;; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial; float: none; display: inline !important;&quot;&gt;接口的清晰度&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=14;align=left;rounded=1;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="280" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-13" value="&lt;span style=&quot;color: rgb(33, 37, 41); font-family: system-ui, -apple-system, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, &amp;quot;Noto Sans&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Noto Color Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;数据验证和错误处理&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=14;align=left;rounded=1;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="350" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-15" value="&lt;span style=&quot;color: rgb(33, 37, 41); font-family: system-ui, -apple-system, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, &amp;quot;Noto Sans&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Noto Color Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;业务逻辑代码的清晰度&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=14;align=left;rounded=1;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="420" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-16" value="&lt;font face=&quot;system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans, Liberation Sans, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji&quot; color=&quot;#212529&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;可测试性&lt;/span&gt;&lt;/font&gt;" style="whiteSpace=wrap;html=1;fontSize=14;align=left;rounded=1;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="500" width="170" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-18" value="&lt;span style=&quot;box-sizing: border-box; font-weight: bolder; color: rgb(33, 37, 41); font-family: system-ui, -apple-system, &amp;quot;Segoe UI&amp;quot;, Roboto, &amp;quot;Helvetica Neue&amp;quot;, Arial, &amp;quot;Noto Sans&amp;quot;, &amp;quot;Liberation Sans&amp;quot;, sans-serif, &amp;quot;Apple Color Emoji&amp;quot;, &amp;quot;Segoe UI Emoji&amp;quot;, &amp;quot;Segoe UI Symbol&amp;quot;, &amp;quot;Noto Color Emoji&amp;quot;; font-size: 16px; background-color: rgb(255, 255, 255);&quot;&gt;将隐性的概念显性化&lt;/span&gt;" style="whiteSpace=wrap;html=1;fontSize=14;align=left;rounded=1;sketch=1;" vertex="1" parent="1">
          <mxGeometry x="440" y="620" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-23" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;pre style=&quot;box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: 0.875em; direction: ltr; unicode-bidi: bidi-override; display: block; margin-top: 0px !important; margin-bottom: 1.25rem; overflow: auto; color: rgb(36, 41, 46); background: rgb(233, 236, 239); padding: 1rem; max-height: 35rem; line-height: 1.5; position: relative; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot; class=&quot;hljs language-typescript&quot;&gt;&lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;PhoneNumber&lt;/span&gt; {&#xa;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; final &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;getNumber&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box;&quot; class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;;&#xa;    }&#xa;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;PhoneNumber&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;) {&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt; == &lt;span style=&quot;box-sizing: border-box; color: rgb(0, 92, 197);&quot; class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;) {&#xa;            &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;ValidationException&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box; color: rgb(3, 47, 98);&quot; class=&quot;hljs-string&quot;&gt;&quot;number不能为空&quot;&lt;/span&gt;);&#xa;        } &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;else&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;isValid&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;)) {&#xa;            &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;throw&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;ValidationException&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box; color: rgb(3, 47, 98);&quot; class=&quot;hljs-string&quot;&gt;&quot;number格式错误&quot;&lt;/span&gt;);&#xa;        }&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-variable language_&quot;&gt;this&lt;/span&gt;.&lt;span style=&quot;box-sizing: border-box;&quot; class=&quot;hljs-property&quot;&gt;number&lt;/span&gt; = &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;;&#xa;    }&#xa;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;getAreaCode&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box;&quot; class=&quot;hljs-params&quot;&gt;&lt;/span&gt;) {&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;for&lt;/span&gt; (int i = &lt;span style=&quot;box-sizing: border-box; color: rgb(0, 92, 197);&quot; class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;; i &amp;lt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;.&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;length&lt;/span&gt;(); i++) {&#xa;            &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; prefix = &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;.&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;substring&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box; color: rgb(0, 92, 197);&quot; class=&quot;hljs-number&quot;&gt;0&lt;/span&gt;, i);&#xa;            &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;isAreaCode&lt;/span&gt;(prefix)) {&#xa;                &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; prefix;&#xa;            }&#xa;        }&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(0, 92, 197);&quot; class=&quot;hljs-literal&quot;&gt;null&lt;/span&gt;;&#xa;    }&#xa;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;private&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;boolean&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;isAreaCode&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box;&quot; class=&quot;hljs-params&quot;&gt;&lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;String&lt;/span&gt; prefix&lt;/span&gt;) {&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;[] areas = &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt;[]{&lt;span style=&quot;box-sizing: border-box; color: rgb(3, 47, 98);&quot; class=&quot;hljs-string&quot;&gt;&quot;0571&quot;&lt;/span&gt;, &lt;span style=&quot;box-sizing: border-box; color: rgb(3, 47, 98);&quot; class=&quot;hljs-string&quot;&gt;&quot;021&quot;&lt;/span&gt;, &lt;span style=&quot;box-sizing: border-box; color: rgb(3, 47, 98);&quot; class=&quot;hljs-string&quot;&gt;&quot;010&quot;&lt;/span&gt;};&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;Arrays&lt;/span&gt;.&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;asList&lt;/span&gt;(areas).&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;contains&lt;/span&gt;(prefix);&#xa;    }&#xa;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;static&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;boolean&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;isValid&lt;/span&gt;(&lt;span style=&quot;box-sizing: border-box;&quot; class=&quot;hljs-params&quot;&gt;&lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;String&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;&lt;/span&gt;) {&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title class_&quot;&gt;String&lt;/span&gt; pattern = &lt;span style=&quot;box-sizing: border-box; color: rgb(3, 47, 98);&quot; class=&quot;hljs-string&quot;&gt;&quot;^0?[1-9]{2,3}-?\\d{8}$&quot;&lt;/span&gt;;&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;number&lt;/span&gt;.&lt;span style=&quot;box-sizing: border-box; color: rgb(111, 66, 193);&quot; class=&quot;hljs-title function_&quot;&gt;matches&lt;/span&gt;(pattern);&#xa;    }&#xa;&#xa;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=14;fontFamily=Helvetica;" vertex="1" parent="1">
          <mxGeometry x="841" y="100" width="400" height="600" as="geometry" />
        </mxCell>
        <mxCell id="xhAw2geh87z7_WKdA8rC-24" value="&lt;meta charset=&quot;utf-8&quot;&gt;&lt;pre style=&quot;box-sizing: border-box; font-family: var(--bs-font-monospace); font-size: 0.875em; direction: ltr; unicode-bidi: bidi-override; display: block; margin-top: 0px !important; margin-bottom: 1.25rem; overflow: auto; color: rgb(36, 41, 46); background: rgb(233, 236, 239); padding: 1rem; max-height: 35rem; line-height: 1.5; position: relative; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-thickness: initial; text-decoration-style: initial; text-decoration-color: initial;&quot; class=&quot;hljs language-pgsql&quot;&gt;&lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;class&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;User&lt;/span&gt; {&#xa;    UserId userId;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-type&quot;&gt;Name&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-type&quot;&gt;name&lt;/span&gt;;&#xa;    PhoneNumber phone;&#xa;    Address address;&#xa;    RepId repId;&#xa;}&#xa;&#xa;&lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;public&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;User&lt;/span&gt; register(&#xa;  @&lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;NotNull&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-type&quot;&gt;Name&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-type&quot;&gt;name&lt;/span&gt;,&#xa;  @&lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;NotNull&lt;/span&gt; PhoneNumber phone,&#xa;  @&lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;NotNull&lt;/span&gt; Address address&#xa;) {&#xa;    // 找到区域内的SalesRep&#xa;    SalesRep rep = salesRepRepo.findRep(phone.getAreaCode());&#xa;&#xa;    // 最后创建用户，落盘，然后返回，这部分代码实际上也能用Builder解决&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;User&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt; = &lt;span style=&quot;box-sizing: border-box; color: rgb(227, 98, 9);&quot; class=&quot;hljs-built_in&quot;&gt;new&lt;/span&gt; &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;User&lt;/span&gt;();&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt;.name = &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-type&quot;&gt;name&lt;/span&gt;;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt;.phone = phone;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt;.address = address;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;if&lt;/span&gt; (rep != &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;null&lt;/span&gt;) {&#xa;        &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt;.repId = rep.repId;&#xa;    }&#xa;&#xa;    &lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;return&lt;/span&gt; userRepo.saveUser(&lt;span style=&quot;box-sizing: border-box; color: rgb(215, 58, 73);&quot; class=&quot;hljs-keyword&quot;&gt;user&lt;/span&gt;);&#xa;}&lt;/pre&gt;" style="text;whiteSpace=wrap;html=1;fontSize=14;fontFamily=Helvetica;" vertex="1" parent="1">
          <mxGeometry x="1210" y="100" width="470" height="570" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
